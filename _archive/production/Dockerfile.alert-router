# Dockerfile for Alert Router Service
# Builds a lightweight container for Redis consumption and alert routing

FROM python:3.11-slim

# Set working directory
WORKDIR /app

# Copy package files
COPY pyproject.toml /app/
COPY src/ /app/src/
COPY configs/ /app/configs/

# Install Python dependencies
RUN pip install --no-cache-dir -e .[alerts]

# Run the alert router service
CMD ["python", "-m", "agave_vision.services.alert_router.main"]
